<!DOCTYPE html>
<html lang="vi">
	<head>
		<meta charset="UTF-8" />
		<title>Music Player</title>
		<style>
			body {
				font-family: Arial, sans-serif;
				text-align: center;
				padding: 20px;
			}
			video {
				width: 80%;
				max-width: 600px;
				margin-top: 20px;
			}
			button {
				margin: 10px;
				padding: 10px 20px;
				font-size: 16px;
			}
		</style>
	</head>
	<body>
		<h1>Trình phát nhạc</h1>
		<div>
			<button onclick="playNext()">Tiếp theo</button>
			<button onclick="toggleRandom()">Chế độ: <span id="mode">Tuần tự</span></button>
		</div>

		<video id="player" controls autoplay></video>

		<script>
			// Danh sách file mp4 trong folder music/
			const musicList = [
				"music/1.mp4",
				"music/2.mp4",
				"music/3.mp4",
				"music/4.mp4",
				"music/5.mp4",
				"music/6.mp4",
				"music/7.mp4",
				// thêm file ở đây
			];

			let currentIndex = 0;
			let isRandom = false;

			const player = document.getElementById("player");
			const modeSpan = document.getElementById("mode");

			function play(index) {
				player.src = musicList[index];
				player.play();
			}

			function playNext() {
				if (isRandom) {
					currentIndex = Math.floor(Math.random() * musicList.length);
				} else {
					currentIndex = (currentIndex + 1) % musicList.length;
				}
				play(currentIndex);
			}

			function toggleRandom() {
				isRandom = !isRandom;
				modeSpan.textContent = isRandom ? "Ngẫu nhiên" : "Tuần tự";
			}

			// Auto play next when ended
			player.addEventListener("ended", playNext);

			// Bắt đầu phát bài đầu tiên
			play(currentIndex);
		</script>
	</body>
</html>
