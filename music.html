<!DOCTYPE html>
<html lang="vi">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Lofi Music</title>
		<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
		<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
		<link href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" rel="stylesheet" />
		<style>
			/* TÃ¹y chá»‰nh mÃ u ná»n cá»§a SweetAlert */
			.swal2-popup {
				background-color: #1f2937 !important;
				color: #f3f4f6;
			}
			.swal2-title,
			.swal2-content,
			.swal2-confirm {
				color: #f3f4f6 !important;
			}

			/* MÃ u ná»n chÃ­nh */
			.bg-gray-800 {
				background-color: #1f2937 !important;
			}

			/* MÃ u ná»n playlist vÃ  modal */
			.bg-gray-700 {
				background-color: #374151 !important;
			}

			/* MÃ u ná»n nÃºt Ä‘iá»u khiá»ƒn */
			.bg-gray-300 {
				background-color: #4b5563 !important;
			}

			/* MÃ u ná»n nÃºt hover */
			.hover:bg-gray-400 {
				background-color: #6b7280 !important;
			}

			/* MÃ u ná»n nÃºt playlist */
			.bg-gray-500 {
				background-color: #6b7280 !important;
			}

			/* MÃ u ná»n nÃºt hover playlist */
			.hover:bg-gray-600 {
				background-color: #4b5563 !important;
			}

			/* MÃ u ná»n nÃºt yÃªu thÃ­ch */
			.bg-pink-500 {
				background-color: #ec4899 !important;
			}

			/* MÃ u ná»n nÃºt hover yÃªu thÃ­ch */
			.hover:bg-pink-600 {
				background-color: #db2777 !important;
			}

			/* MÃ u ná»n nÃºt ngáº«u nhiÃªn yÃªu thÃ­ch */
			.bg-purple-500 {
				background-color: #a855f7 !important;
			}

			/* MÃ u ná»n nÃºt hover ngáº«u nhiÃªn yÃªu thÃ­ch */
			.hover:bg-purple-600 {
				background-color: #9333ea !important;
			}

			/* MÃ u chá»¯ chÃ­nh */
			.text-white {
				color: #f3f4f6 !important;
			}

			/* MÃ u chá»¯ tiÃªu Ä‘á» */
			.text-gray-100 {
				color: #f3f4f6 !important;
			}

			/* MÃ u chá»¯ playlist */
			.text-gray-300 {
				color: #d1d5db !important;
			}

			/* MÃ u chá»¯ nÃºt Ä‘iá»u khiá»ƒn */
			.text-gray-800 {
				color: #f3f4f6 !important;
			}

			/* MÃ u chá»¯ nÃºt hover */
			.hover:text-white {
				color: #f3f4f6 !important;
			}

			/* MÃ u chá»¯ nÃºt playlist */
			.text-gray-500 {
				color: #e5e7eb !important;
			}

			/* MÃ u chá»¯ nÃºt hover playlist */
			.hover:text-gray-300 {
				color: #d1d5db !important;
			}

			/* MÃ u chá»¯ nÃºt yÃªu thÃ­ch */
			.text-pink-500 {
				color: #ec4899 !important;
			}

			/* MÃ u chá»¯ nÃºt hover yÃªu thÃ­ch */
			.hover:text-pink-600 {
				color: #db2777 !important;
			}

			/* MÃ u chá»¯ nÃºt ngáº«u nhiÃªn yÃªu thÃ­ch */
			.text-purple-500 {
				color: #a855f7 !important;
			}

			/* MÃ u chá»¯ nÃºt hover ngáº«u nhiÃªn yÃªu thÃ­ch */
			.hover:text-purple-600 {
				color: #9333ea !important;
			}

			/* Hiá»‡u á»©ng nÃºt Ä‘ang báº­t */
			.active {
				box-shadow: 0 0 15px rgba(17, 24, 39, 0.5);
				transform: translateY(-2px);
				transition: all 0.3s ease;
			}

			/* Hiá»‡u á»©ng nÃºt Ä‘ang táº¯t */
			.inactive {
				opacity: 0.7;
				transition: all 0.3s ease;
			}

			/* Hiá»‡u á»©ng nÃºt yÃªu thÃ­ch Ä‘ang báº­t */
			.active-favorite {
				box-shadow: 0 0 15px rgba(236, 72, 153, 0.5);
				transform: translateY(-2px);
				transition: all 0.3s ease;
			}

			/* Hiá»‡u á»©ng nÃºt ngáº«u nhiÃªn yÃªu thÃ­ch Ä‘ang báº­t */
			.active-favorite-random {
				box-shadow: 0 0 15px rgba(168, 85, 247, 0.5);
				transform: translateY(-2px);
				transition: all 0.3s ease;
			}

			/* Táº¡o viá»n cho khung bá»c */
			.player-wrapper {
				border: 2px solid #4b5563;
				border-radius: 12px;
				padding: 1rem;
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
				transition: all 0.3s ease;
			}

			.player-wrapper:hover {
				border-color: #6b7280;
				box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
			}
		</style>
	</head>
	<body class="bg-gray-800 text-white font-sans text-center p-3 sm:p-5">
		<div class="w-full max-w-2xl mx-auto">
			<div class="player-wrapper">
				<!-- Header -->
				<h1 class="text-xl sm:text-2xl md:text-3xl font-bold mb-3 sm:mb-4 flex items-center justify-center space-x-2 text-gray-100">
					<span>ğŸ§</span>
					<span>TrÃ¬nh Nghe Nháº¡c</span>
				</h1>

				<!-- NÃºt Ä‘iá»u khiá»ƒn -->
				<div class="mb-3 sm:mb-4 flex flex-wrap justify-center items-center space-x-2 sm:space-x-3 md:space-x-4">
					<!-- NÃºt Tiáº¿p -->
					<button onclick="playNext()" class="bg-gray-300 text-gray-800 px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 rounded hover:bg-gray-400 transition">
						<span class="text-base sm:text-lg md:text-xl">â–¶ï¸</span>
						<span class="hidden sm:inline">Tiáº¿p</span>
					</button>

					<!-- NÃºt Láº·p láº¡i -->
					<button onclick="toggleRepeat()" id="repeatBtn" class="bg-gray-300 text-gray-800 px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 rounded hover:bg-gray-400 transition">
						<span class="text-base sm:text-lg md:text-xl">ğŸ”„</span>
						<span class="hidden sm:inline">Láº·p láº¡i</span>
					</button>

					<!-- NÃºt Ngáº«u nhiÃªn -->
					<button onclick="toggleRandom()" class="bg-gray-300 text-gray-800 px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 rounded hover:bg-gray-400 transition">
						<span class="text-base sm:text-lg md:text-xl">ğŸ²</span>
						<span class="hidden sm:inline">Ngáº«u nhiÃªn</span>
					</button>

					<!-- NÃºt KhÃ´ng láº·p láº¡i -->
					<button onclick="toggleNoRepeat()" id="noRepeatBtn" class="bg-gray-300 text-gray-800 px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 rounded hover:bg-gray-400 transition">
						<span class="text-base sm:text-lg md:text-xl">ğŸ¯</span>
						<span class="hidden sm:inline">KhÃ´ng láº·p láº¡i</span>
					</button>

					<!-- NÃºt Playlist -->
					<button id="togglePlaylistBtn" class="bg-gray-500 hover:bg-gray-600 text-white px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 rounded transition">
						<span class="text-base sm:text-lg md:text-xl">ğŸ“œ</span>
						<span class="hidden sm:inline">Playlist</span>
					</button>
				</div>

				<!-- Player Container -->
				<div id="playerContainer" class="w-full sm:max-w-3xl mx-auto rounded-lg bg-black overflow-hidden mb-3 sm:mb-4"></div>

				<!-- Hiá»ƒn thá»‹ bÃ i hÃ¡t hiá»‡n táº¡i -->
				<div id="currentSong" class="mt-2 sm:mt-3 mb-3 sm:mb-4 flex items-center justify-center space-x-2 text-sm sm:text-base md:text-lg bg-gray-700 p-2 sm:p-2.5 md:p-3 rounded-lg shadow-lg sm:max-w-3xl mx-auto"></div>

				<!-- Playlist Wrapper -->
				<div id="playlistWrapper" style="display: none">
					<select id="categorySelect" class="w-full sm:max-w-3xl bg-gray-500 text-white p-2 sm:p-2.5 rounded"></select>
					<ul id="playlist" class="mt-3 sm:mt-4 sm:max-w-3xl mx-auto bg-gray-700 rounded-lg shadow divide-y divide-gray-600 text-left"></ul>
					<div id="pagination" class="flex justify-center items-center space-x-2 mt-2 sm:mt-3"></div>
				</div>
			</div>

			<script>
				// Load playlists from JSON file
				fetch("asset/playlists.json")
					.then((response) => response.json())
					.then((data) => {
						const playlists = data;
						// Táº¡o danh sÃ¡ch "Táº¥t cáº£ bÃ i hÃ¡t"
						Object.values(playlists).forEach((list, index) => {
							if (index === 0) return; // Bá» qua chÃ­nh nÃ³
							playlists["Táº¥t cáº£ bÃ i hÃ¡t"].music.push(...list.music);
							playlists["Táº¥t cáº£ bÃ i hÃ¡t"].songs.push(...list.songs);
						});
						// Cáº­p nháº­t danh sÃ¡ch yÃªu thÃ­ch tá»« local storage
						let favorites = JSON.parse(localStorage.getItem("favorites") || "[]");
						favorites = Array.isArray(favorites) ? favorites : [];

						// Cáº­p nháº­t danh sÃ¡ch yÃªu thÃ­ch
						favorites.forEach((favoriteUrl) => {
							for (const [playlistName, list] of Object.entries(playlists)) {
								const index = list.music.indexOf(favoriteUrl);
								if (index !== -1) {
									playlists["Danh SÃ¡ch YÃªu ThÃ­ch"].music.push(favoriteUrl);
									playlists["Danh SÃ¡ch YÃªu ThÃ­ch"].songs.push(`${list.songs[index]}`);
									break;
								}
							}
						});

						// Cáº­p nháº­t select box
						const categorySelect = document.getElementById("categorySelect");
						categorySelect.innerHTML = "";
						Object.keys(playlists).forEach((playlistName) => {
							const option = document.createElement("option");
							option.value = playlistName;
							option.textContent = playlistName;
							categorySelect.appendChild(option);
						});

						let currentPlaylist = "Táº¥t cáº£ bÃ i hÃ¡t";
						let currentIndex = 0;
						let isRandom = true;
						let isNoRepeat = false;
						let currentPage = 1;
						const pageSize = 10;
						let playedSongs = new Set();

						const playerContainer = document.getElementById("playerContainer");
						const currentSongDisplay = document.getElementById("currentSong");
						const playlist = document.getElementById("playlist");
						const playlistWrapper = document.getElementById("playlistWrapper");
						const togglePlaylistBtn = document.getElementById("togglePlaylistBtn");

						categorySelect.onchange = function () {
							currentPlaylist = this.value;
							currentIndex = 0;
							currentPage = 1;
							renderPlaylist();
						};

						function renderPlaylist() {
							playlist.innerHTML = "";
							const currentList = playlists[currentPlaylist];
							const start = (currentPage - 1) * pageSize;
							const end = Math.min(start + pageSize, currentList.songs.length);

							for (let idx = start; idx < end; idx++) {
								const name = currentList.songs[idx];
								const url = currentList.music[idx];
								const isFavorite = favorites.includes(url);

								const li = document.createElement("li");
								li.className = "flex items-center justify-between px-3 sm:px-4 py-2 hover:bg-gray-600 transition " + (idx === currentIndex ? "bg-gray-500 font-bold" : "");

								const songContainer = document.createElement("div");
								songContainer.className = "flex items-center space-x-2";
								let icon = "ğŸµ";
								if (url.includes("youtube.com") || url.includes("youtu.be")) icon = "â–¶ï¸";
								else if (url.endsWith(".mp3")) icon = "ğŸ¶";
								else if (url.endsWith(".mp4")) icon = "ğŸ¬";
								songContainer.innerHTML = `<span class="text-xl">${icon}</span><span>${name}</span>`;
								li.appendChild(songContainer);

								const favoriteBtn = document.createElement("button");
								favoriteBtn.className = "text-xl hover:text-pink-500 transition";
								favoriteBtn.innerHTML = isFavorite ? "â¤ï¸" : "ğŸ¤";
								favoriteBtn.onclick = (event) => {
									event.stopPropagation();
									toggleFavorite(url);
								};
								li.appendChild(favoriteBtn);

								li.onclick = (event) => {
									if (event.target !== favoriteBtn) {
										currentIndex = idx;
										play(currentIndex);
										renderPlaylist();
									}
								};
								playlist.appendChild(li);
							}
							renderPagination();
						}

						function renderPagination() {
							const pagination = document.getElementById("pagination");
							pagination.innerHTML = "";
							const totalPages = Math.ceil(playlists[currentPlaylist].songs.length / pageSize);

							const prevBtn = document.createElement("button");
							prevBtn.textContent = "Â«";
							prevBtn.disabled = currentPage === 1;
							prevBtn.className = "px-2 py-1 rounded bg-gray-600 hover:bg-gray-500 disabled:opacity-50";
							prevBtn.onclick = () => {
								if (currentPage > 1) {
									currentPage--;
									renderPlaylist();
								}
							};
							pagination.appendChild(prevBtn);

							for (let i = 1; i <= totalPages; i++) {
								const pageBtn = document.createElement("button");
								pageBtn.textContent = i;
								pageBtn.className = "px-2 py-1 rounded " + (i === currentPage ? "bg-blue-500 text-white" : "bg-gray-600 hover:bg-gray-500");
								pageBtn.onclick = () => {
									currentPage = i;
									renderPlaylist();
								};
								pagination.appendChild(pageBtn);
							}

							const nextBtn = document.createElement("button");
							nextBtn.textContent = "Â»";
							nextBtn.disabled = currentPage === totalPages;
							nextBtn.className = "px-2 py-1 rounded bg-gray-600 hover:bg-gray-500 disabled:opacity-50";
							nextBtn.onclick = () => {
								if (currentPage < totalPages) {
									currentPage++;
									renderPlaylist();
								}
							};
							pagination.appendChild(nextBtn);
						}

						function play(index) {
							const currentList = playlists[currentPlaylist];
							const url = currentList.music[index];
							currentPage = Math.floor(index / pageSize) + 1;
							playerContainer.innerHTML = "";

							if (url.includes("youtube.com") || url.includes("youtu.be")) {
								const iframe = document.createElement("iframe");
								iframe.src = url + "?autoplay=1";
								iframe.width = "100%";
								iframe.height = "200";
								iframe.frameBorder = "0";
								iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
								iframe.allowFullscreen = true;
								playerContainer.appendChild(iframe);
							} else {
								const video = document.createElement("video");
								video.src = url;
								video.controls = true;
								video.playsInline = true;
								video.autoplay = true;
								video.className = "w-full";
								video.volume = 0.25;
								video.addEventListener("ended", function () {
									if (isRepeat) play(currentIndex);
									else playNext();
								});
								playerContainer.appendChild(video);
							}

							let icon = "ğŸµ";
							if (url.includes("youtube.com") || url.includes("youtu.be")) icon = "â–¶ï¸";
							else if (url.endsWith(".mp3")) icon = "ğŸ¶";
							else if (url.endsWith(".mp4")) icon = "ğŸ¬";
							currentSongDisplay.innerHTML = `<span class="text-xl">${icon}</span> <span>${currentList.songs[index]}</span>`;

							renderPlaylist();
						}

						let isRepeat = false;

						function toggleRepeat() {
							isRepeat = !isRepeat;
							const repeatBtn = document.getElementById("repeatBtn");
							if (repeatBtn) {
								if (isRepeat) {
									repeatBtn.classList.add("active");
									repeatBtn.classList.remove("inactive");
								} else {
									repeatBtn.classList.add("inactive");
									repeatBtn.classList.remove("active");
								}
							}
							Swal.fire({
								title: isRepeat ? "Láº·p láº¡i bÃ i hÃ¡t" : "ChÆ¡i tiáº¿p bÃ i tiáº¿p theo",
								toast: true,
								position: "top-right",
								showConfirmButton: false,
								timer: 3000,
								timerProgressBar: true,
								background: "#1f2937",
								color: "#f3f4f6",
								customClass: {
									popup: "swal2-toast",
									title: "swal2-title",
									content: "swal2-content",
								},
							});
						}

						function playNext() {
							const currentList = playlists[currentPlaylist];
							if (isRandom) {
								let nextIndex;
								const nonYoutubeIndexes = currentList.music.map((item, idx) => (!item.includes("youtube.com") && !item.includes("youtu.be") ? idx : -1)).filter((idx) => idx !== -1);

								if (isNoRepeat) {
									// Lá»c cÃ¡c bÃ i hÃ¡t chÆ°a Ä‘Æ°á»£c phÃ¡t
									const availableIndexes = nonYoutubeIndexes.filter((idx) => !playedSongs.has(idx));

									if (availableIndexes.length === 0) {
										// Náº¿u táº¥t cáº£ bÃ i hÃ¡t Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t, reset set vÃ  láº¥y láº¡i bÃ i hÃ¡t Ä‘áº§u tiÃªn
										playedSongs.clear();
										nextIndex = nonYoutubeIndexes[0];
									} else {
										// Chá»n ngáº«u nhiÃªn tá»« cÃ¡c bÃ i hÃ¡t chÆ°a Ä‘Æ°á»£c phÃ¡t
										const randomPos = Math.floor(Math.random() * availableIndexes.length);
										nextIndex = availableIndexes[randomPos];
									}
									playedSongs.add(nextIndex);
								} else {
									// Náº¿u khÃ´ng báº­t "KhÃ´ng láº·p láº¡i", hoáº¡t Ä‘á»™ng nhÆ° bÃ¬nh thÆ°á»ng
									nextIndex = nonYoutubeIndexes[Math.floor(Math.random() * nonYoutubeIndexes.length)];
								}
								currentIndex = nextIndex;
							} else {
								currentIndex = (currentIndex + 1) % currentList.music.length;
							}
							play(currentIndex);
						}

						function toggleNoRepeat() {
							isNoRepeat = !isNoRepeat;
							const noRepeatBtn = document.getElementById("noRepeatBtn");
							if (noRepeatBtn) {
								if (isNoRepeat) {
									playedSongs.clear();
									noRepeatBtn.classList.add("active");
									noRepeatBtn.classList.remove("inactive");
								} else {
									playedSongs.clear();
									noRepeatBtn.classList.add("inactive");
									noRepeatBtn.classList.remove("active");
								}
							}
							Swal.fire({
								title: isNoRepeat ? "KhÃ´ng láº·p láº¡i bÃ i hÃ¡t" : "CÃ³ thá»ƒ láº·p láº¡i bÃ i hÃ¡t",
								toast: true,
								position: "top-right",
								showConfirmButton: false,
								timer: 3000,
								timerProgressBar: true,
								background: "#1f2937",
								color: "#f3f4f6",
								customClass: {
									popup: "swal2-toast",
									title: "swal2-title",
									content: "swal2-content",
								},
							});
						}

						function toggleRandom() {
							isRandom = !isRandom;
							const randomBtn = document.querySelector('button[onclick="toggleRandom()"]');
							if (randomBtn) {
								const modeSpan = randomBtn.querySelector("span:last-child");
								if (modeSpan) {
									modeSpan.textContent = isRandom ? "Ngáº«u nhiÃªn" : "Tuáº§n tá»±";
								}
								// Thay Ä‘á»•i icon
								const icon = randomBtn.querySelector("span:first-child");
								if (icon) {
									icon.textContent = isRandom ? "ğŸ²" : "â†’";
								}
							}
							Swal.fire({
								title: isRandom ? "Cháº¿ Ä‘á»™ ngáº«u nhiÃªn" : "Cháº¿ Ä‘á»™ tuáº§n tá»±",
								toast: true,
								position: "top-end",
								showConfirmButton: false,
								timer: 3000,
								timerProgressBar: true,
								didOpen: (toast) => {
									toast.addEventListener("mouseenter", Swal.stopTimer);
									toast.addEventListener("mouseleave", Swal.resumeTimer);
								},
								customClass: {
									popup: "bg-gray-800 text-white",
									title: "text-xl font-bold",
									content: "text-lg",
									icon: "text-2xl",
								},
							});
						}

						function toggleFavorite(url) {
							const isFavorite = favorites.includes(url);
							if (isFavorite) {
								favorites = favorites.filter((song) => song !== url);
								// XÃ³a bÃ i hÃ¡t khá»i danh sÃ¡ch yÃªu thÃ­ch
								const index = playlists["Danh SÃ¡ch YÃªu ThÃ­ch"].music.indexOf(url);
								if (index !== -1) {
									playlists["Danh SÃ¡ch YÃªu ThÃ­ch"].music.splice(index, 1);
									playlists["Danh SÃ¡ch YÃªu ThÃ­ch"].songs.splice(index, 1);
								}
							} else {
								favorites.push(url);
								// ThÃªm bÃ i hÃ¡t vÃ o danh sÃ¡ch yÃªu thÃ­ch
								const currentList = playlists[currentPlaylist];
								const songIndex = currentList.music.indexOf(url);
								if (songIndex !== -1) {
									playlists["Danh SÃ¡ch YÃªu ThÃ­ch"].music.push(url);
									playlists["Danh SÃ¡ch YÃªu ThÃ­ch"].songs.push(currentList.songs[songIndex]);
								}
							}
							localStorage.setItem("favorites", JSON.stringify(favorites));
							renderPlaylist();
							updateFavoritesList();
						}

						function toggleFavorites() {
							const modal = document.getElementById("favoritesModal");
							modal.classList.toggle("hidden");
							updateFavoritesList();
						}

						function closeFavorites() {
							document.getElementById("favoritesModal").classList.add("hidden");
						}

						function updateFavoritesList() {
							const favoritesList = document.getElementById("favoritesList");
							favoritesList.innerHTML = "";
							favorites.forEach((url) => {
								for (const [playlistName, list] of Object.entries(playlists)) {
									const index = list.music.indexOf(url);
									if (index !== -1) {
										const li = document.createElement("li");
										li.className = "flex items-center justify-between px-3 sm:px-4 py-2 hover:bg-gray-600 transition";
										li.innerHTML = `<span>${list.songs[index]}</span>
										<button onclick="play(${index})" class="text-xl sm:text-lg hover:text-blue-500 transition">â–¶ï¸</button>`;
										favoritesList.appendChild(li);
										break;
									}
								}
							});
						}

						// áº¨n/hiá»‡n playlist
						let isPlaylistVisible = false;
						playlistWrapper.style.display = "none";
						togglePlaylistBtn.innerHTML = `<span class="text-lg sm:text-xl">ğŸ“œ</span><span class="hidden sm:inline"> Playlist</span>`;
						togglePlaylistBtn.onclick = function () {
							isPlaylistVisible = !isPlaylistVisible;
							playlistWrapper.style.display = isPlaylistVisible ? "block" : "none";
							this.innerHTML = `<span class="text-lg sm:text-xl">ğŸ“œ</span><span class="hidden sm:inline"> ${isPlaylistVisible ? "Playlist" : "Playlist"}</span>`;
						};

						// Khá»Ÿi Ä‘á»™ng trang
						renderPlaylist();

						// Äáº£m báº£o cáº­p nháº­t láº¡i danh sÃ¡ch yÃªu thÃ­ch khi load láº¡i trang
						window.addEventListener("storage", function () {
							favorites = JSON.parse(localStorage.getItem("favorites") || "[]");
							favorites = Array.isArray(favorites) ? favorites : [];
							renderPlaylist();
							updateFavoritesList();
						});
						window.playNext = playNext;
						window.toggleRepeat = toggleRepeat;
						window.toggleRandom = toggleRandom;
						window.toggleNoRepeat = toggleNoRepeat;
					})
					.catch((error) => {
						console.error("Error loading playlists:", error);
					});
			</script>
		</div>
	</body>
</html>
